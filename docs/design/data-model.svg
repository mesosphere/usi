<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="532px" preserveAspectRatio="none" style="width:723px;height:532px;" version="1.1" viewBox="0 0 723 532" width="723px" zoomAndPan="magnify"><defs><filter height="300%" id="f1t9zrk5pv9tc7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#00FFFF" filter="url(#f1t9zrk5pv9tc7)" height="49.6875" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="12" y="25.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="19" y="39.1016">RunningPodSpec</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="13" x2="120" y1="43.6328" y2="43.6328"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="9" x="18" y="57.3008">id</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="38" x="18" y="69.0781">runSpec</text><rect fill="#00FFFF" filter="url(#f1t9zrk5pv9tc7)" height="73.2422" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="6" y="165"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49" x="42" y="178.6016">RunSpec</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="126" y1="183.1328" y2="183.1328"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="109" x="12" y="196.8008">resourceRequirements</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="66" x="12" y="208.5781">commandInfo</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="107" x="12" y="220.3555">placementConstraints</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="24" x="12" y="232.1328">etc...</text><rect fill="#00FFFF" filter="url(#f1t9zrk5pv9tc7)" height="73.2422" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="156.5" y="14"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="163.5" y="27.6016">ReservationSpec</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="157.5" x2="263.5" y1="32.1328" y2="32.1328"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="9" x="162.5" y="45.8008">id</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="37" x="162.5" y="57.5781">agentId</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="19" x="162.5" y="69.3555">role</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="47" x="162.5" y="81.1328">resources</text><rect fill="#90EE90" filter="url(#f1t9zrk5pv9tc7)" height="96.7969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="434" y="310"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="444.5" y="323.6016">AgentInfo</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="435" x2="508" y1="328.1328" y2="328.1328"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="9" x="440" y="341.8008">id</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="9" x="440" y="353.5781">ip</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="48" x="440" y="365.3555">hostname</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="60" x="440" y="377.1328">faultDomain</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="48" x="440" y="388.9102">attributes</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="63" x="440" y="400.6875">maintenance</text><rect fill="#FFC0CB" filter="url(#f1t9zrk5pv9tc7)" height="61.4648" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="296.5" y="171"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="303.5" y="184.6016">ReservationRecord</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="297.5" x2="417.5" y1="189.1328" y2="189.1328"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="9" x="302.5" y="202.8008">id</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="37" x="302.5" y="214.5781">agentId</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="47" x="302.5" y="226.3555">resources</text><rect fill="#FFC0CB" filter="url(#f1t9zrk5pv9tc7)" height="96.7969" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="525" y="153"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="587" y="166.6016">PodRecord</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="526" x2="711" y1="171.1328" y2="171.1328"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="9" x="531" y="184.8008">id</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="55" x="531" y="196.5781">launchedAt</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="37" x="531" y="208.3555">agentId</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="71" x="531" y="220.1328">unserviceable?</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="175" x="531" y="231.9102">-- reason (unhealthy | unreachable)</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="40" x="531" y="243.6875">-- since</text><rect fill="#FEFECE" filter="url(#f1t9zrk5pv9tc7)" height="85.0195" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="509.5" y="8"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="531.5" y="21.6016">PodStatus</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="510.5" x2="608.5" y1="26.1328" y2="26.1328"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="9" x="515.5" y="39.8008">id</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="30" x="515.5" y="51.5781">status</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="84" x="515.5" y="63.3555">statusTimestamp</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="82" x="515.5" y="75.1328">agent: AgentInfo</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="88" x="515.5" y="86.9102">record: PodRecord</text><rect fill="#FEFECE" filter="url(#f1t9zrk5pv9tc7)" height="73.2422" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="300" y="14"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="307" y="27.6016">ReservationStatus</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="301" x2="414" y1="32.1328" y2="32.1328"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="9" x="306" y="45.8008">id</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="52" x="306" y="57.5781">lastSeenAt</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="47" x="306" y="69.3555">agentInfo</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="30" x="306" y="81.1328">status</text><!--link RunningPodSpec to RunSpec--><path d="M66.5,75.774 C66.5,100.1215 66.5,137.2228 66.5,164.8191 " fill="none" id="RunningPodSpec-RunSpec" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="57.625" y="95.5798">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="57.7625" y="154.2479">1</text><!--link ReservationRecord to AgentInfo--><path d="M379.751,232.1439 C394.8806,252.9803 415.292,281.0908 433.0213,305.5074 " fill="none" id="ReservationRecord-AgentInfo" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="436.0698,309.7058,434.0185,300.0729,433.132,305.6599,427.545,304.7734,436.0698,309.7058" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="377.9622" y="253.0394">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="422.5249" y="299.3939">1</text><!--link PodRecord to AgentInfo--><path d="M572.7941,250.3152 C553.5937,270.8217 531.4256,294.4978 512.7321,314.463 " fill="none" id="PodRecord-AgentInfo" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="509.0416,318.4045,518.1128,314.5687,512.459,314.7547,512.2731,309.1009,509.0416,318.4045" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="560.2492" y="270.4854">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="516.9605" y="306.9489">1</text><!--link PodStatus to PodRecord--><path d="M576.2492,93.3666 C582.8822,110.3425 590.5801,130.0439 597.5739,147.9433 " fill="none" id="PodStatus-PodRecord" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="599.5263,152.9403,599.9765,143.1017,597.7066,148.2832,592.5251,146.0133,599.5263,152.9403" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="552.9764" y="113.6696">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="570.977" y="142.3126">0..1</text><!--link PodStatus to AgentInfo--><path d="M534.2829,93.1625 C524.6275,111.1158 514.3088,132.5534 507.5,153 C490.8401,203.0294 481.4862,262.6154 476.5165,304.7094 " fill="none" id="PodStatus-AgentInfo" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="475.932,309.7543,480.9414,301.2746,476.5076,304.7875,472.9946,300.3537,475.932,309.7543" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="523.9622" y="113.4343">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="467.9955" y="299.0993">1</text><!--link ReservationStatus to ReservationRecord--><path d="M357.5,87.0529 C357.5,110.9098 357.5,141.9112 357.5,165.63 " fill="none" id="ReservationStatus-ReservationRecord" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="357.5,170.8804,361.5,161.8804,357.5,165.8804,353.5,161.8804,357.5,170.8804" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="331.2875" y="107.7498">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="330.875" y="160.0932">0..1</text><rect fill="#DDDDDD" height="96.4414" rx="5" ry="5" style="stroke: #000000; stroke-width: 1.0;" width="148" x="290.5" y="425"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="301.5" y="445.5352">Legend</text><rect fill="#00FFFF" height="16.4883" style="stroke: none; stroke-width: 1.0;" width="136" x="296.5" y="448.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="300.5" y="462.0234">Input</text><rect fill="#FFC0CB" height="16.4883" style="stroke: none; stroke-width: 1.0;" width="136" x="296.5" y="464.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="300.5" y="478.5117">Persisted</text><rect fill="#90EE90" height="16.4883" style="stroke: none; stroke-width: 1.0;" width="136" x="296.5" y="481.4648"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="300.5" y="495">Cached (persisted)</text><rect fill="#FFFF00" height="16.4883" style="stroke: none; stroke-width: 1.0;" width="136" x="296.5" y="497.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="300.5" y="511.4883">Output</text><line style="stroke: #000000; stroke-width: 1.0;" x1="296.5" x2="432.5" y1="432" y2="432"/><line style="stroke: #000000; stroke-width: 1.0;" x1="296.5" x2="432.5" y1="448.4883" y2="448.4883"/><line style="stroke: #000000; stroke-width: 1.0;" x1="296.5" x2="432.5" y1="464.9766" y2="464.9766"/><line style="stroke: #000000; stroke-width: 1.0;" x1="296.5" x2="432.5" y1="481.4648" y2="481.4648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="296.5" x2="432.5" y1="497.9531" y2="497.9531"/><line style="stroke: #000000; stroke-width: 1.0;" x1="296.5" x2="432.5" y1="514.4414" y2="514.4414"/><line style="stroke: #000000; stroke-width: 1.0;" x1="296.5" x2="296.5" y1="432" y2="514.4414"/><line style="stroke: #000000; stroke-width: 1.0;" x1="432.5" x2="432.5" y1="432" y2="514.4414"/><!--
@startuml

object RunningPodSpec #Cyan {
  id
  runSpec
}

object RunSpec #Cyan {
  resourceRequirements
  commandInfo
  placementConstraints
  etc...
}

object ReservationSpec #Cyan {
  id
  agentId
  role
  resources
}

object AgentInfo #LightGreen {
  id
  ip
  hostname
  faultDomain
  attributes
  maintenance
}

object ReservationRecord #Pink {
  id
  agentId
  resources
}

object PodRecord #Pink {
  id
  launchedAt
  agentId
  unserviceable?
  - - reason (unhealthy | unreachable)
  - - since
}



object PodStatus {
  id
  status
  statusTimestamp
  agent: AgentInfo
  record: PodRecord
}

object ReservationStatus {
  id
  lastSeenAt
  agentInfo
  status
}

RunningPodSpec "1" - - "1" RunSpec
ReservationRecord "*" - -> "1" AgentInfo
PodRecord "*" - -> "1" AgentInfo
PodStatus "0..1" - -> "0..1" PodRecord
PodStatus "*" - -> "1" AgentInfo
ReservationStatus "0..1" - -> "0..1" ReservationRecord

legend
  |= Legend|
  |<#Cyan> Input |
  |<#Pink> Persisted |
  |<#LightGreen> Cached (persisted) |
  |<#Yellow> Output |
endlegend

@enduml

PlantUML version 1.2018.03(Thu Apr 05 18:59:15 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_112-b16
Operating System: Mac OS X
OS Version: 10.14.4
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>