sudo: required
jdk:
  - openjdk8
language: scala
# this is necessary because otherwise travis runs gradlew assemble before out tasks
# and if that is run, checkScalaFmtAll won't work
install:
  - true
scala:
  - 2.12.7
script:
  - ./gradlew checkScalaFmtAll && sudo ./gradlew provision && ./gradlew ci --info
before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
git:
  depth: false
